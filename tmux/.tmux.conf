# Basic mouse support (click panes, resize, wheel scroll in copy-mode)
set -g mouse on

# Use vi-style keys in copy-mode (hjkl, etc.)
setw -g mode-keys vi

# Scroll wheel: enter copy-mode on first scroll up, then scroll inside it
bind-key -T root WheelUpPane \
  if-shell -F '#{pane_in_mode}' 'send-keys -M' 'copy-mode -e'

# While already in copy-mode, make wheel scroll tmux's history (not jump)
bind-key -T copy-mode-vi WheelUpPane   send-keys -X -N 5 scroll-up
bind-key -T copy-mode-vi WheelDownPane send-keys -X -N 5 scroll-down

# Do NOT auto-jump back to bottom when you finish mouse selection
unbind -T copy-mode-vi MouseDragEnd1Pane

# Custom binds
# Prefix + h/j/k/l to move between panes
bind -n C-h select-pane -L
bind -n C-j select-pane -D
bind -n C-k select-pane -U
bind -n C-l select-pane -R

# In resize-mode: hjkl resize; stay in resize-mode after each step
bind -T resize-mode h resize-pane -L 2 \; switch-client -T resize-mode
bind -T resize-mode j resize-pane -D 1 \; switch-client -T resize-mode
bind -T resize-mode k resize-pane -U 1 \; switch-client -T resize-mode
bind -T resize-mode l resize-pane -R 2 \; switch-client -T resize-mode

# Exit resize-mode with Prefix or q
bind -T resize-mode C-b switch-client -T root
bind -T resize-mode q   switch-client -T root

